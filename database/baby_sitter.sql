-- MySQL Script generated by MySQL Workbench
-- Sat Aug 22 11:02:23 2020
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering
SET @OLD_UNIQUE_CHECKS = @@UNIQUE_CHECKS,
    UNIQUE_CHECKS = 0;
SET @OLD_FOREIGN_KEY_CHECKS = @@FOREIGN_KEY_CHECKS,
    FOREIGN_KEY_CHECKS = 0;
SET @OLD_SQL_MODE = @@SQL_MODE,
    SQL_MODE = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';
-- -----------------------------------------------------
-- Schema baby_sitter
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `baby_sitter`;
-- -----------------------------------------------------
-- Schema baby_sitter
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `baby_sitter` DEFAULT CHARACTER SET utf8;
USE `baby_sitter`;
-- -----------------------------------------------------
-- Table `baby_sitter`.`ROLES`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `baby_sitter`.`ROLES`;
CREATE TABLE IF NOT EXISTS `baby_sitter`.`ROLES` (
    `ID` INT NULL AUTO_INCREMENT,
    `DES_NOMBRE` VARCHAR(45) NULL,
    PRIMARY KEY (`ID`)
) ENGINE = InnoDB;
-- -----------------------------------------------------
-- Table `baby_sitter`.`USUARIOS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `baby_sitter`.`USUARIOS`;
CREATE TABLE IF NOT EXISTS `baby_sitter`.`USUARIOS` (
    `ID` INT NULL AUTO_INCREMENT,
    `ID_ROL` INT NOT NULL,
    `DES_NOMBRE` VARCHAR(80) NULL,
    `FECHA_NACIMIENTO` DATE NULL,
    `DES_URL_IMAGEN` MEDIUMTEXT NULL,
    `DES_USUARIO` VARCHAR(45) NULL,
    `DES_PASSWORD` VARCHAR(150) NULL,
    `DES_DOMICILIO` VARCHAR(120) NULL,
    `DES_DOMICILIO_LATLONG` VARCHAR(45) NULL,
    `NUM_TELEFONO` VARCHAR(14) NULL,
    `DES_CORREO` VARCHAR(45) NULL,
    `NUM_STATUS` INT NULL,
    PRIMARY KEY (`ID`),
    INDEX `fk_USUARIOS_ROLES_idx` (`ID_ROL` ASC) VISIBLE,
    CONSTRAINT `fk_USUARIOS_ROLES` FOREIGN KEY (`ID_ROL`) REFERENCES `baby_sitter`.`ROLES` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE = InnoDB;
-- -----------------------------------------------------
-- Table `baby_sitter`.`META_USUARIOS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `baby_sitter`.`META_USUARIOS`;
CREATE TABLE IF NOT EXISTS `baby_sitter`.`META_USUARIOS` (
    `ID` INT NULL AUTO_INCREMENT,
    `ID_USUARIO` INT NOT NULL,
    `DES_DATA_ESTUDIOS` JSON NULL,
    `DES_DATA_ESPECIALIDADES` JSON NULL,
    `DES_DATA_HABILIDADES` JSON NULL,
    `DES_DATA_EXPERIENCIA` JSON NULL,
    `DES_DATA_DISPONIBILIDAD` JSON NULL,
    `NUM_TARIFA_HORA` DOUBLE NULL,
    PRIMARY KEY (`ID`),
    INDEX `fk_META_USUARIOS_USUARIOS1_idx` (`ID_USUARIO` ASC) VISIBLE,
    CONSTRAINT `fk_META_USUARIOS_USUARIOS1` FOREIGN KEY (`ID_USUARIO`) REFERENCES `baby_sitter`.`USUARIOS` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE = InnoDB;
-- -----------------------------------------------------
-- Table `baby_sitter`.`TIEMPO_SERVICIOS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `baby_sitter`.`TIEMPO_SERVICIOS`;
CREATE TABLE IF NOT EXISTS `baby_sitter`.`TIEMPO_SERVICIOS` (
    `ID` INT NULL AUTO_INCREMENT,
    `ID_USUARIO` INT NOT NULL,
    `DES_NOMBRE` VARCHAR(45) NULL,
    `NUM_HORAS` INT NULL,
    PRIMARY KEY (`ID`),
    INDEX `fk_TIEMPO_SERVICIOS_USUARIOS1_idx` (`ID_USUARIO` ASC) VISIBLE,
    CONSTRAINT `fk_TIEMPO_SERVICIOS_USUARIOS1` FOREIGN KEY (`ID_USUARIO`) REFERENCES `baby_sitter`.`USUARIOS` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE = InnoDB;
-- -----------------------------------------------------
-- Table `baby_sitter`.`SERVICIOS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `baby_sitter`.`SERVICIOS`;
CREATE TABLE IF NOT EXISTS `baby_sitter`.`SERVICIOS` (
    `ID` INT NULL AUTO_INCREMENT,
    `ID_USUARIO_CLIENTE` INT NOT NULL,
    `ID_USUARIO_NANA` INT NOT NULL,
    `DES_DOMICILIO` VARCHAR(120) NULL,
    `DES_DOMICILIO_LATLONG` VARCHAR(45) NULL,
    `DES_RECOMENDACIONES` TEXT(200) NULL,
    `DES_DATA_INFANTES` JSON NULL,
    `DES_DATA_HORARIO` JSON NULL,
    `NUM_COSTO_TOTAL` DOUBLE NULL,
    `NUM_STATUS` INT NULL,
    PRIMARY KEY (`ID`),
    INDEX `fk_SERVICIOS_USUARIOS1_idx` (`ID_USUARIO_CLIENTE` ASC) VISIBLE,
    INDEX `fk_SERVICIOS_USUARIOS2_idx` (`ID_USUARIO_NANA` ASC) VISIBLE,
    CONSTRAINT `fk_SERVICIOS_USUARIOS1` FOREIGN KEY (`ID_USUARIO_CLIENTE`) REFERENCES `baby_sitter`.`USUARIOS` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
    CONSTRAINT `fk_SERVICIOS_USUARIOS2` FOREIGN KEY (`ID_USUARIO_NANA`) REFERENCES `baby_sitter`.`USUARIOS` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE = InnoDB;
-- -----------------------------------------------------
-- Table `baby_sitter`.`RESEÑAS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `baby_sitter`.`RESEÑAS`;
CREATE TABLE IF NOT EXISTS `baby_sitter`.`RESEÑAS` (
    `ID` INT NULL AUTO_INCREMENT,
    `ID_USUARIO_CLIENTE` INT NOT NULL,
    `ID_USUARIO_NANA` INT NOT NULL,
    `DES_OPINON` VARCHAR(255) NULL,
    `NUM_ESTRELLAS` INT NULL,
    PRIMARY KEY (`ID`),
    INDEX `fk_RESEÑAS_USUARIOS1_idx` (`ID_USUARIO_CLIENTE` ASC) VISIBLE,
    INDEX `fk_RESEÑAS_USUARIOS2_idx` (`ID_USUARIO_NANA` ASC) VISIBLE,
    CONSTRAINT `fk_RESEÑAS_USUARIOS1` FOREIGN KEY (`ID_USUARIO_CLIENTE`) REFERENCES `baby_sitter`.`USUARIOS` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION,
    CONSTRAINT `fk_RESEÑAS_USUARIOS2` FOREIGN KEY (`ID_USUARIO_NANA`) REFERENCES `baby_sitter`.`USUARIOS` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE = InnoDB;
SET SQL_MODE = @OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS = @OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS = @OLD_UNIQUE_CHECKS;